# Analytics Result Publishing - Chaincode

## Chaincode Interface



This chaincode allows a Client to store, modify, delete and get a Analytics Result Publishing (ARP) object on the Ledger. This object, for blockchain side, is a simple string of variable length. For all these operations is required a key (**UID**), that uniquely identifies the payload in the registry.

This UID is not generated by the chaincode, so it must be managed and held by the calling application.

#### APIs

The operation allowed to the client are as follows:

**postResult** : 

 This operation is used **to insert** an ARP inside the blockchain ledger. 

- **Input** :  *args[ key, payload]* , array of strings `args[]` where in the first position  there must be the *key* and in the second the payload (ARP).
- **Output** : Nothing if the operation was successful, otherwise, an error string.

**putResult** :

This operation is used **to update** an ARP in the blockchain ledger.

- **Input** :  *args[ key, payload]* , array of strings `args[]` where in the first position  there must be the *key* and in the second the payload (ARP).
- **Output** : Nothing if the operation was successful, otherwise, an error string.

**deleteResult** :

This operation is used **to delete** an ARP in the blockchain ledger.

- **Input** :  *args[ key]* , array of strings `args[]` where only the *key* must be present.
- **Output** : Nothing if the operation was successful, otherwise, an error string.

**getResult** :

This operation is used **to get** an ARP from the ledger.

- **Input** :  *args[ key]* , array of strings `args[]` where only the *key* must be present.
- **Output** : *String payload* with inside the ARP connected to the key if it is present on the ledger, otherwise, an error string.



##### Event Mechanism

The events allow a client to follow the chaincode operations quickly and lighter.  The name of event must be entered as parameters to a particular interface in the client's library (see client REDME.md for more details).

|      Operation      |        EventName        |
| :-----------------: | :---------------------: |
|  postResult  |  ARPLedgerService_EDIT  |
|  putResult   |  ARPLedgerService_EDIT  |
| deleteResult |  ARPLedgerService_GET   |
|  getResult   | ARPLedgerService_DELETE |

